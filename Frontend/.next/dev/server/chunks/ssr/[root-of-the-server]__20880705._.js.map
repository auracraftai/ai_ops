{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/nishant/SphereHack%201.0/Frontend/pages/dashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport Link from \"next/link\"\nimport { useRouter } from \"next/router\"\n\nexport default function Dashboard() {\n  const router = useRouter()\n  const [deployments, setDeployments] = useState([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    // Basic auth check\n    const email = localStorage.getItem(\"user_email\")\n    if (!email) {\n      router.push(\"/login\")\n      return\n    }\n\n    fetch(\"http://localhost:3005/api/deployments\")\n      .then(res => res.json())\n      .then(data => {\n        setDeployments(data)\n        setLoading(false)\n      })\n      .catch(err => setLoading(false))\n  }, [])\n\n  const handleDelete = async (id) => {\n    if (!confirm(\"Are you sure you want to remove this project?\")) return\n\n    try {\n      await fetch(`http://localhost:3005/api/deployments/${id}`, {\n        method: \"DELETE\"\n      })\n      setDeployments(prev => prev.filter(d => d._id !== id))\n    } catch (err) {\n      alert(\"Failed to delete\")\n    }\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user_email\")\n    localStorage.removeItem(\"user_name\")\n    localStorage.removeItem(\"user_id\")\n    router.push(\"/login\")\n  }\n\n  if (loading) return <div style={styles.container}>Loading...</div>\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.header}>\n        <div>\n          <h2>Dashboard</h2>\n          <p>Welcome, {typeof window !== 'undefined' ? (localStorage.getItem(\"user_name\") || localStorage.getItem(\"user_email\")) : \"\"}</p>\n        </div>\n        <button onClick={handleLogout} style={styles.smallButton}>Logout</button>\n      </div>\n\n      <div style={styles.content}>\n        {/* Section 1: Previous Knowledge / Deployments */}\n        <div style={styles.section}>\n          <h3>Knowledge of Websites</h3>\n          {deployments.length === 0 ? (\n            <p>No websites deployed yet.</p>\n          ) : (\n            <div style={styles.grid}>\n              {deployments.map(d => (\n                <div key={d._id} style={styles.card}>\n                  <h4 style={{\n                    whiteSpace: \"nowrap\",\n                    overflow: \"hidden\",\n                    textOverflow: \"ellipsis\",\n                    maxWidth: \"100%\",\n                    margin: \"0 0 10px 0\"\n                  }} title={d.repo}>\n                    {d.repo}\n                  </h4>\n                  <p>Platform: <strong>{d.platform}</strong></p>\n                  <p>Status: {d.status}</p>\n                  <div style={{ display: 'flex', gap: '10px' }}>\n                    <Link href={`/monitor/${d._id}`}>\n                      <button style={styles.smallButton}>View Logs & AI Ops</button>\n                    </Link>\n                    <button\n                      onClick={() => handleDelete(d._id)}\n                      style={{ ...styles.smallButton, backgroundColor: '#d9534f' }}\n                    >\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Section 2: Start New Journey */}\n        <div style={styles.section}>\n          <h3>{deployments.length > 0 ? \"Expand Your Portfolio\" : \"Deploy a New Project\"}</h3>\n          <p>\n            {deployments.length > 0\n              ? \"Ready to launch another idea? Deploy another model with our AI Ops platform.\"\n              : \"Start your website deployment journey with our AIOps platform.\"}\n          </p>\n          <Link href=\"/github\">\n            <button style={styles.mainButton}>\n              {deployments.length > 0 ? \"Deploy Another Model\" : \"Start Deployment Journey\"}\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n\n  )\n}\n\nconst styles = {\n  container: { padding: \"40px\", fontFamily: \"Arial, sans-serif\" },\n  header: { marginBottom: \"40px\", borderBottom: \"1px solid #eee\", paddingBottom: \"20px\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" },\n  content: { display: \"flex\", flexDirection: \"column\", gap: \"40px\" },\n  section: { padding: \"20px\", background: \"#f9f9f9\", borderRadius: \"8px\" },\n  grid: { display: \"grid\", gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\", gap: \"20px\", marginTop: \"20px\" },\n  card: { padding: \"20px\", background: \"white\", borderRadius: \"8px\", boxShadow: \"0 2px 5px rgba(0,0,0,0.1)\" },\n  mainButton: { padding: \"12px 24px\", fontSize: \"16px\", background: \"#0070f3\", color: \"white\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\", marginTop: \"10px\" },\n  smallButton: { padding: \"8px 16px\", background: \"#333\", color: \"white\", border: \"none\", borderRadius: \"4px\", cursor: \"pointer\", marginTop: \"10px\" }\n}\n"],"names":[],"mappings":"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"}}]
}