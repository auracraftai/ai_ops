{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["file:///Users/nishant/SphereHack%201.0/Frontend/pages/platform.js"],"sourcesContent":["const express = require(\"express\")\nconst Deployment = require(\"../models/Deployment\")\n\nconst router = express.Router()\n\n/**\n * POST /api/deployments\n * Create a new deployment entry\n *\n * Body:\n * {\n *   repo: string,\n *   platform: string\n * }\n */\nrouter.post(\"/\", async (req, res) => {\n  try {\n    const { repo, platform } = req.body\n\n    // Basic validation\n    if (!repo || !platform) {\n      return res.status(400).json({\n        error: \"repo and platform are required\"\n      })\n    }\n\n    // Create deployment entry\n    const deployment = await Deployment.create({\n      repo,\n      platform,\n      status: \"DEPLOYING\"\n    })\n\n    res.json(deployment)\n  } catch (err) {\n    console.error(\"Deployment creation failed:\", err.message)\n    res.status(500).json({\n      error: \"Failed to create deployment\"\n    })\n  }\n})\n\n/**\n * GET /api/deployments\n * Fetch all deployments (for dashboard)\n */\nrouter.get(\"/\", async (req, res) => {\n  try {\n    const deployments = await Deployment.find()\n      .sort({ createdAt: -1 })\n\n    res.json(deployments)\n  } catch (err) {\n    console.error(\"Fetching deployments failed:\", err.message)\n    res.status(500).json({\n      error: \"Failed to fetch deployments\"\n    })\n  }\n})\n\nmodule.exports = router\n"],"names":[],"mappings":"AAAA,MAAM;;;;;AACN,MAAM;;;;;AAEN,MAAM,SAAS,QAAQ,MAAM;AAE7B;;;;;;;;;CASC,GACD,OAAO,IAAI,CAAC,KAAK,OAAO,KAAK;IAC3B,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,IAAI;QAEnC,mBAAmB;QACnB,IAAI,CAAC,QAAQ,CAAC,UAAU;YACtB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAC1B,OAAO;YACT;QACF;QAEA,0BAA0B;QAC1B,MAAM,aAAa,MAAM,WAAW,MAAM,CAAC;YACzC;YACA;YACA,QAAQ;QACV;QAEA,IAAI,IAAI,CAAC;IACX,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,+BAA+B,IAAI,OAAO;QACxD,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,OAAO;QACT;IACF;AACF;AAEA;;;CAGC,GACD,OAAO,GAAG,CAAC,KAAK,OAAO,KAAK;IAC1B,IAAI;QACF,MAAM,cAAc,MAAM,WAAW,IAAI,GACtC,IAAI,CAAC;YAAE,WAAW,CAAC;QAAE;QAExB,IAAI,IAAI,CAAC;IACX,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gCAAgC,IAAI,OAAO;QACzD,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YACnB,OAAO;QACT;IACF;AACF;AAEA,OAAO,OAAO,GAAG"}}]
}