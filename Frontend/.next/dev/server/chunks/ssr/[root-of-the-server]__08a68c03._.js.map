{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/nishant/SphereHack%201.0/Frontend/pages/platform.js"],"sourcesContent":["import { useState } from \"react\"\nimport { useRouter } from \"next/router\"\n\nconst platforms = [\n  { id: \"AWS\", name: \"AWS\", fields: [\"Access Key ID\", \"Secret Access Key\"] },\n  { id: \"Azure\", name: \"Azure\", fields: [\"Subscription ID\", \"Client ID\", \"Client Secret\"] },\n  { id: \"GCP\", name: \"Google Cloud\", fields: [\"Project ID\", \"JSON Key (Base64)\"] },\n  { id: \"Vercel\", name: \"Vercel\", fields: [\"Vercel Token\", \"Team ID (Optional)\"] },\n  { id: \"Docker\", name: \"Docker Hub\", fields: [\"Username\", \"Access Token\"] },\n  { id: \"Railway\", name: \"Railway\", fields: [\"Railway Token\"] },\n  { id: \"Render\", name: \"Render\", fields: [\"API Key\", \"Service ID\"] }\n]\n\nexport default function PlatformPage() {\n  const router = useRouter()\n  const [selected, setSelected] = useState(null)\n  const [credentials, setCredentials] = useState({})\n  const [loading, setLoading] = useState(false)\n\n  const handleInputChange = (field, value) => {\n    setCredentials(prev => ({ ...prev, [field]: value }))\n  }\n\n  const handleDeploy = async () => {\n    if (!selected) return alert(\"Please select a platform\")\n\n    // Check if all fields are filled\n    for (const field of selected.fields) {\n      if (!credentials[field]) return alert(`Please enter ${field}`)\n    }\n\n    const repo = localStorage.getItem(\"github_repo_url\")\n    if (!repo) {\n      alert(\"GitHub repo info missing. Please go back.\")\n      router.push(\"/github\")\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      const res = await fetch(\"http://localhost:3005/api/deployments\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          repo: repo,\n          platform: selected.id,\n          credentials: credentials\n        })\n      })\n\n      const data = await res.json()\n      if (!res.ok) throw new Error(data.error || \"Deployment failed\")\n\n      // Save deployment id\n      localStorage.setItem(\"deployment_id\", data._id)\n\n      alert(\"Deployment Started! Redirecting to dashboard...\")\n\n      // Small delay to simulate \"Connecting...\"\n      setTimeout(() => {\n        router.push(\"/dashboard\")\n      }, 1000)\n\n    } catch (err) {\n      alert(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div style={styles.container}>\n      <h2>Select Deployment Platform</h2>\n\n      <div style={styles.grid}>\n        {platforms.map(p => (\n          <div\n            key={p.id}\n            onClick={() => { setSelected(p); setCredentials({}); }}\n            style={{\n              ...styles.card,\n              border: selected?.id === p.id ? \"2px solid #000\" : \"1px solid #ddd\",\n              backgroundColor: selected?.id === p.id ? \"#f0f8ff\" : \"#fff\"\n            }}\n          >\n            <strong>{p.name}</strong>\n          </div>\n        ))}\n      </div>\n\n      {selected && (\n        <div style={styles.form}>\n          <h3>Configure {selected.name}</h3>\n          {selected.fields.map(field => (\n            <div key={field} style={{ marginBottom: 10 }}>\n              <label style={{ display: \"block\", marginBottom: 5 }}>{field}</label>\n              <input\n                type=\"password\"\n                style={styles.input}\n                value={credentials[field] || \"\"}\n                onChange={e => handleInputChange(field, e.target.value)}\n              />\n            </div>\n          ))}\n\n          <button style={styles.button} onClick={handleDeploy} disabled={loading}>\n            {loading ? \"Connecting & Deploying...\" : \"Connect & Deploy\"}\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst styles = {\n  container: { padding: \"40px\", textAlign: \"center\", maxWidth: \"800px\", margin: \"0 auto\" },\n  grid: { display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(100px, 1fr))\", gap: \"10px\", marginBottom: \"40px\" },\n  card: { padding: \"15px\", cursor: \"pointer\", borderRadius: \"8px\", fontSize: \"14px\" },\n  form: { textAlign: \"left\", maxWidth: \"400px\", margin: \"0 auto\", padding: \"20px\", border: \"1px solid #eee\", borderRadius: \"8px\" },\n  input: { width: \"100%\", padding: \"8px\", boxSizing: \"border-box\" },\n  button: { width: \"100%\", padding: \"10px\", marginTop: \"20px\", backgroundColor: \"#000\", color: \"#fff\", border: \"none\", borderRadius: \"5px\", cursor: \"pointer\" }\n}\n"],"names":[],"mappings":"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"}}]
}