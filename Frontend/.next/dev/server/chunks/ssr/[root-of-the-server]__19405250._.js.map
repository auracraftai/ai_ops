{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/nishant/SphereHack%201.0/Frontend/pages/github.js"],"sourcesContent":["import { useState } from \"react\"\nimport { useRouter } from \"next/router\"\n\nexport default function GitHubPage() {\n  const router = useRouter()\n\n  const [username, setUsername] = useState(\"\")\n  const [repoUrl, setRepoUrl] = useState(\"\")\n  const [token, setToken] = useState(\"\")\n\n  const [loading, setLoading] = useState(false)\n  const [analysis, setAnalysis] = useState(null)\n  const [fixing, setFixing] = useState(false)\n\n  const handleAnalyze = async () => {\n    if (!username || !repoUrl || !token) {\n      alert(\"Please fill all fields\")\n      return\n    }\n\n    setLoading(true)\n    try {\n      const res = await fetch(\"http://localhost:3005/api/github/analyze\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ token, repoUrl })\n      })\n\n      const data = await res.json()\n      if (!res.ok) throw new Error(data.error || \"Analysis failed\")\n\n      setAnalysis(data)\n\n      // Save credentials for later\n      localStorage.setItem(\"github_username\", username)\n      localStorage.setItem(\"github_repo_url\", repoUrl)\n      localStorage.setItem(\"github_token\", token)\n\n      if (data.perfect) {\n        // If perfect, maybe auto-redirect or show success\n      }\n    } catch (err) {\n      alert(err.message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFix = async () => {\n    if (!analysis) return\n    setFixing(true)\n    try {\n      const res = await fetch(\"http://localhost:3005/api/github/fix\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          token,\n          repoUrl,\n          missing: analysis.missing\n        })\n      })\n\n      const data = await res.json()\n      if (!res.ok) throw new Error(data.error)\n\n      alert(\"Files pushed successfully! Redirecting to Platform selection...\")\n      router.push(\"/platform\")\n    } catch (err) {\n      alert(\"Failed to fix: \" + err.message)\n    } finally {\n      setFixing(false)\n    }\n  }\n\n  const handleContinue = () => {\n    router.push(\"/platform\")\n  }\n\n  return (\n    <div style={styles.container}>\n      <h2>Connect GitHub Repository</h2>\n\n      {!analysis ? (\n        <>\n          <input\n            placeholder=\"GitHub Username\"\n            value={username}\n            onChange={e => setUsername(e.target.value)}\n            style={styles.input}\n          />\n          <input\n            placeholder=\"GitHub Repo URL\"\n            value={repoUrl}\n            onChange={e => setRepoUrl(e.target.value)}\n            style={styles.input}\n          />\n          <input\n            placeholder=\"GitHub Personal Access Token\"\n            type=\"password\"\n            value={token}\n            onChange={e => setToken(e.target.value)}\n            style={styles.input}\n          />\n          <button onClick={handleAnalyze} disabled={loading} style={styles.button}>\n            {loading ? \"Analyzing...\" : \"Analyze Repo\"}\n          </button>\n        </>\n      ) : (\n        <div style={styles.resultBox}>\n          <h3>Repository Analysis</h3>\n          <p><strong>Status:</strong> {analysis.perfect ? \"✅ Ready for Deployment\" : \"⚠️ Missing Configurations\"}</p>\n\n          {!analysis.perfect && (\n            <ul style={{ textAlign: 'left' }}>\n              {analysis.missing.dockerfile && <li>Missing Dockerfile</li>}\n              {analysis.missing.githubActions && <li>Missing GitHub Actions Workflow</li>}\n            </ul>\n          )}\n\n          <div style={{ marginTop: 20 }}>\n            {!analysis.perfect ? (\n              <button onClick={handleFix} disabled={fixing} style={{ ...styles.button, backgroundColor: \"#f5a623\" }}>\n                {fixing ? \"Fixing & Pushing...\" : \"Fix Issues & Continue\"}\n              </button>\n            ) : (\n              <button onClick={handleContinue} style={{ ...styles.button, backgroundColor: \"#27ae60\" }}>\n                Proceed to Platform\n              </button>\n            )}\n\n            {/* Allow bypassing if they really want to */}\n            {!analysis.perfect && (\n              <button onClick={handleContinue} style={{ ...styles.button, backgroundColor: \"#ccc\", marginLeft: 10 }}>\n                Skip & Continue\n              </button>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst styles = {\n  container: { height: \"100vh\", display: \"flex\", flexDirection: \"column\", justifyContent: \"center\", alignItems: \"center\" },\n  input: { padding: \"10px\", margin: \"8px\", width: \"340px\" },\n  button: { marginTop: \"12px\", padding: \"10px 18px\", cursor: \"pointer\", border: \"none\", color: \"#fff\", backgroundColor: \"#0070f3\", borderRadius: \"5px\" },\n  resultBox: { border: \"1px solid #ddd\", padding: \"30px\", borderRadius: \"8px\", textAlign: \"center\", maxWidth: \"400px\" }\n}\n"],"names":[],"mappings":"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"}}]
}